# Формулировка задачи

Необходимо разработать узел ROS2, который будет распознавать наличие движения на видео с неподвижной камеры.
* На вход узел принимает изображения с камеры.
* На выходе, для каждого входного изображения узел публикует 1 если происходит движение и 0 если движения нету.
* Пример алгоритма:
    - Храним предыдущий и текущий кадр
    - Вычитаем их между собой
    - Выставляем порог разницы между пикселями по которому считаем, что изменение пикселя произошло
    - Выставляем порог по количеству измененных пикселей, с помощью которого мы принимаем, что движение произошло
* Места для улучшения:
    - Сравнивать не соседние кадры, т.к. частота камеры может быть слишком высокой, а попарно N кадров с разницей, например, в 1 секунду
    - Усреднять M соседних кадров
    - Фильтровать кадры
    - Использовать HSV
    - Использовать анализ гистограм
    - Находить крупные участки изменений (например, разбив изображение на сетку)

# Исходные данные

В папке src лежат исходники для запуска всего пайплайна camera->motion_recognition->visualization.
Для сборки и запуска используйте скрипт 'run.sh'.

    Внимание! Данный скрипт будет работать с камерой по умолчанию (проверьте что существует файл '/dev/video0').
Если основная камера имеет другой путь, то вы можете поменять его в файлах:
- run.sh
- src/motion_recognition/motion_recognition.launch.py

Если у вас нету камеры, уберите из launch файла запуск камеры и запускайте видео из bag файла.

# Рекомендации

- Отладьте код работы алгоритма в python скрипте прежде чем интегрировать его в ros2.